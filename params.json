{
  "name": "Nohttp",
  "tagline": "NoHttp support large files, file upload, download, automatically maintain a Cookie, asynchronous/synchronous request, a variety of Http caching pattern, redirect, 302/303 support proxy server.",
  "body": "# NoHttp\r\n> NoHttp, feeling spill（NoHttp，情怀四溢）.\r\n\r\n![NoHttp Logo][10]\r\n\r\n[**中文版文档**][14]  \r\n\r\nThe author's url: [http://www.yanzhenjie.com][12]  \r\nThe author's blog: [http://blog.csdn.net/yanzhenjie1003][3]  \r\n\r\n----\r\n# NoHttp home page and doc url\r\nNoHttp home page: [http://www.nohttp.net][5]  \r\nNoHttp document: [http://doc.nohttp.net][6]  \r\nNoHttp source code: [https://github.com/yanzhenjie/NoHttp][1]  \r\nDocument also continues to improve, there is a problem can send [issues][7], or send an email to me directly: smallajax@foxmail.com.\r\n\r\n# How to use\r\n* Eclipse use [NoHttp Jar][8], if need to rely on the source code, [download][13].\r\n> [download jar [include source code，274k]][11]  \r\n> [download jar [not include source code，147k]][8]  \r\n\r\n* AndroidStudio using Gradle build add dependent (recommended)\r\n```groovy\r\ncompile 'com.yolanda.nohttp:nohttp:1.0.4'\r\n```\r\n\r\n# Download Demo\r\n[Downloa source code of NoHttp, Demo][13]  \r\n[Download Demo APK][9]  \r\n\r\n# Permission\r\n```xml\r\n<uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n<uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n<uses-permission android:name=\"android.permission.INTERNET\" />\r\n<uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n<uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" />\r\n```\r\n\r\n# NoHttp features\r\nNoHttp implements Http1.1 ([RFC2616][15]), a standard Http framework.\r\n\r\n* Request and download queue, average distribution of each thread resources, support for multiple requests concurrently.\r\n* Support the GET, POST, PUT, PATCH, HEAD, DELETE, OPTIONS, such as TRACE request protocol.\r\n* Support for POST, PUT, PATCH, DELETE the file upload (Html form principle).\r\n* File download, upload, download, upload and download the progress of the callback, error correction.\r\n* Provides five kinds of data caching policy for developers to choose to use (see below) in detail.\r\n* Support to cancel a request, specify multiple request cancel, cancel all requests.\r\n* Support custom Request, using NoHttp generics can be parsed into any data you want to format (String, Json, JavaBean, etc.).\r\n* Automatic maintenance of support Session, cookies, restart the App, turn off the boot after also continue to maintain.\r\n* Support Https, self-signed website Https access, support two-way authentication.\r\n\r\n## Friendly debug mode\r\nNoHttp provides a debug mode, after open the can see clear request process, such as how to transfer data, basic need not caught. Can see that the request headers, request data, the process of response headers, cookies, etc. You don't have to worry about too many Log will dazzle you, clean and tidy.\r\n\r\n## Request\r\n>* Support the request String, Json, FastJson, Gson, Bitmap, javabeans and XML extensions.\r\n>* An asynchronous request, get the results directly to update the UI, support synchronous request.\r\n\r\n## Multiple file upload\r\nAll download progress callback, error correction and other friendly interface.\r\n\r\n>* Large file upload, OOM will not occur.\r\n>* File upload more, multiple key file, a key multiple files（`List<File>`）.\r\n>* Support File, InputStream, ByteArray containing, Bitmap, realize NoHttp Binary interface, anything can theoretically.\r\n>* Support to cancel the upload.\r\n\r\n## File download\r\n>* File to download, support for multiple files to download at the same time, and a progress callback, error correction and so on.\r\n>* Support for a moratorium on continue to download, support to cancel the download, support breakpoint continuingly.\r\n>* To make use of much NoHttp file download can do a download manager.\r\n\r\n## Cache mode\r\n>* Only request network.\r\n>* Only read cache.\r\n>* The standard Http protocol cache (such as in the case of the response code is 304), need server support, if the server does not support the same way as a common request.\r\n>* First request network, after failing to return to the cache.\r\n>* First read the cache, the cache request network again.\r\n\r\n## Cancel Request\r\nAll cancelled all support requests are being executed.\r\n\r\n>* Support cancel a request。\r\n>* Support to cancel with sign to specify several requests。\r\n>* Support cancel all request。\r\n\r\n## Automatically maintain Cookie\r\n>* Maintain support Session, cookies, temporary cookies.\r\n>* Support the App after the restart, shutdown boot continue to persistent.\r\n>* Provides the interface that allows developers to monitor the change of the cookies, can also change the value of a Cookie.\r\n\r\n## Redirect\r\n>* For Http301, 302, 303, 307 redirect support.\r\n>* Support multiple redirection nesting.\r\n>* Support disable redirection, NoHttp provides redirection interface operation.\r\n\r\n## Proxy\r\n>* The standard Java Api, the ProXy: the designated agent of IP and Port.\r\n>* Such as agent to your computer for caught when debugging, such as use proxy to access Google.\r\n\r\n# 1. Request\r\n## String request\r\n```java\r\n// String request object\r\nRequest<String> request = NoHttp.createStringRequest(url, requestMethod);\r\n\r\n```\r\n\r\n## Json request\r\n```java\r\n// JsonObject\r\nRequest<JSONObject> request = NoHttp.createJsonObjectRequest(url, reqeustMethod);\r\n...\r\n// JsonArray\r\nRequest<JSONArray> request = NoHttp.createJsonArrayRequest(url, reqeustMethod);\r\n```\r\n\r\n## Bitmap request\r\n```\tjava\r\nRequest<Bitmap> request = NoHttp.createImageRequest(url, requestMethod);\r\n```\r\n\r\n## Add params\r\n```java\r\nRequest<JSONObject> request = ...\r\nrequest.add(\"name\", \"yoldada\");// String type\r\nrequest.add(\"age\", 18);// int type\r\nrequest.add(\"sex\", '0')// char type\r\nrequest.add(\"time\", 16346468473154); // long type\r\n...\r\n```\r\n\r\n## Add to queue\r\n```java\r\nRequestQueue requestQueue = NoHttp.newRequestQueue();\r\n// Or a concurrent value, allowing three concurrent requests at the same time\r\n// RequestQueue requestQueue = NoHttp.newRequestQueue(3);\r\n\r\n// start request\r\nrequestQueue.add(what, request, responseListener);\r\n```\r\n　　Added to the queue above there is a credit, the credit will be `responseLisetener` response callback to developers，so we can use a `responseLisetener` accept multiple requests the response，with what to distinguish results. Instead, like some framework, each request to the new a callback.\r\n\r\n## Synchronous request\r\n　　In request, the current thread by the thread so used.\r\n```java\r\nRequest<String> request = ...\r\nResponse<String> response = NoHttp.startRequestSync(request);\r\nif (response.isSucceed()) {\r\n    // succeed\r\n} else {\r\n    // failed\r\n}\r\n```\r\n\r\n# 2. File upload\r\n　　Support for multiple File upload, multiple key multiple files, a key multiple files (`List < File >`). Support File, InputStream, ByteArray containing, Bitmap, realize NoHttp Binary interface, anything can theoretically.\r\n\r\n## A single file\r\n```java\r\nRequest<String> request = ...\r\nrequest.add(\"file\", new FileBinary(file));\r\n```\r\n\r\n## Upload multiple files, multiple Key file form\r\n　　Here you can add all kinds of files，File、Bitmap、InputStream、ByteArray：\r\n```java\r\nRequest<String> request = ...\r\nrequest.add(\"file1\", new FileBinary(File));\r\nrequest.add(\"file2\", new FileBinary(File));\r\nrequest.add(\"file3\", new InputStreamBinary(InputStream));\r\nrequest.add(\"file4\", new ByteArrayBinary(byte[]));\r\nrequest.add(\"file5\", new BitmapStreamBinary(Bitmap));\r\n```\r\n\r\n## Upload multiple files, a Key form of multiple files\r\n　　With the same key to add,  the same key will not be covered.\r\n```java\r\nRequest<String> request = ...\r\nfileList.add(\"image\", new FileBinary(File));\r\nfileList.add(\"image\", new InputStreamBinary(InputStream));\r\nfileList.add(\"image\", new ByteArrayBinary(byte[]));\r\nfileList.add(\"image\", new BitmapStreamBinary(Bitmap));\r\n```\r\n　Or: \r\n```java\r\nRequest<String> request = ...\r\n\r\nList<Binary> fileList = ...\r\nfileList.add(new FileBinary(File));\r\nfileList.add(new InputStreamBinary(InputStream));\r\nfileList.add(new ByteArrayBinary(byte[]));\r\nfileList.add(new BitmapStreamBinary(Bitmap));\r\nrequest.add(\"file_list\", fileList);\r\n```\r\n\r\n# 3. Download file\r\n　　Because the downloaded file code is more, post key part, specific please refer to the sample.\r\n## Request a download\r\n```java\r\n// download file\r\ndownloadRequest = NoHttp.createDownloadRequest...\r\n// what To distinguish the download.\r\n// downloadRequest To download the request object.\r\n// downloadListener Listeningof download.\r\ndownloadQueue.add(0, downloadRequest, downloadListener);\r\n```\r\n\r\n## Pause or stop the download\r\n```java\r\ndownloadRequest.cancel();\r\n```\r\n\r\n## Listening to the download process\r\n```java\r\nprivate DownloadListener downloadListener = new DownloadListener() {\r\n\t@Override\r\n\tpublic void onStart(int what, boolean resume, long preLenght, Headers header, long count) {\r\n\t    // download start.\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onProgress(int what, int progress, long downCount) {\r\n\t\t// update download progress.\r\n\t}\r\n\r\n \t@Override\r\n\tpublic void onFinish(int what, String filePath) {\r\n\t    // download finish.\r\n \t}\r\n\r\n\t@Override\r\n\tpublic void onDownloadError(int what, StatusCode code, CharSequence message) {\r\n\t    // download have a error.\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void onCancel(int what) {\r\n\t    // Download has been cancelled or suspended.\r\n\t}\r\n};\r\n```\r\n;\r\n# 4. Cache mode\r\n## 1. Cache Http standard protocols, such as when the response code is 304(redirect)\r\n　　Is realized RFC2616 NoHttp itself, so there need not set or set to DEFAULT.\r\n```java\r\nRequest<JSONObject> request = NoHttp.createJsonObjectRequest(url);\r\nrequest.setCacheMode(CacheMode.DEFAULT);\r\n```\r\n\r\n## 2. When the request network failure, and then read the cache\r\n　　Request to the server success is returned data server, if the request to the server fails, read the cache data to return.\r\n```java\r\nRequest<JSONObject> request = NoHttp.createJsonObjectRequest(url);\r\nrequest.setCacheMode(CacheMode.REQUEST_NETWORK_FAILED_READ_CACHE);\r\n```\r\n\r\n## 3. To read the first cache, there is no cache request to the server again\r\n　　We know that the core of the ImageLoader besides memory optimization, one is found that the mainland has left image is used directly, without the request to the server, so do a ImageLoader NoHttp this very use.\r\n　　If there is no cache request to the server, or use the cache:\r\n```java\r\nRequest<JSONObject> request = NoHttp.createJsonObjectRequest(url);\r\n// Change the caching pattern to IF_NONE_CACHE_REQUEST_NETWORK.\r\nrequest.setCacheMode(CacheMode.IF_NONE_CACHE_REQUEST_NETWORK);\r\n```\r\n　　Request pictures, cache the image:\r\n```java\r\nRequest<Bitmap> request = NoHttp.createImageRequest(imageUrl);\r\nrequest.setCacheMode(CacheMode.IF_NONE_CACHE_REQUEST_NETWORK);\r\n```\r\n\r\n## 4. Only request network\r\n　　Here can't read the cache, can't use Http304:\r\n```java\r\nRequest<Bitmap> request = NoHttp.createImageRequest(imageUrl);\r\nrequest.setCacheMode(CacheMode.ONLY_REQUEST_NETWORK);\r\n...\r\n```\r\n\r\n## 5. Only read cache\r\n　　Just read the cache, not request network and other operation:\r\n```java\r\nRequest<Bitmap> request = NoHttp.createImageRequest(imageUrl);\r\nrequest.setCacheMode(CacheMode.ONLY_READ_CACHE);\r\n```\r\n\r\n# 5. Cancel request\r\n## Cancel a single request\r\n　　User method `cancel()` of request.\r\n```java\r\nrequest.cancel();\r\n```\r\n\r\n## Cancel the specified request from the queue\r\n　　To the request set a sign, to cancel the call queue cancelBySign can cancel all specify the sign of the request.\r\n```java\r\nrequest.setCancelSign(sign);\r\n...\r\nqueue.cancelBySign(sign);\r\n```\r\n\r\n## Cancel all requests in the queue\r\n```java\r\nqueue.cancelAll();\r\n```\r\n\r\n## Stop queue\r\n　　After add the request to the queue in the queue to stop, the request will not be executed.\r\n```java\r\nRequestQueue queue = NoHttp.newRequestQueue();\r\n...\r\nqueue.stop();\r\n```\r\n\r\n#6. The custom request type: FastJsonRequest\r\n## Define the request object\r\n```java\r\npublic class FastJsonRequest extends RestRequestor<JSONObject> {\r\n\r\n    public FastJsonRequest(String url) {\r\n\t    super(url);\r\n    }\r\n\r\n    public FastJsonRequest(String url, RequestMethod requestMethod) {\r\n\t    super(url, requestMethod);\r\n    }\r\n\r\n    @Override\r\n    public JSONObject parseResponse(String url, Headers headers, byte[] responseBody) {\r\n\t    String result = StringRequest.parseResponseString(url, headers, responseBody);\r\n\t    JSONObject jsonObject = null;\r\n\t    if (!TextUtils.isEmpty(result)) {\r\n\t\t    jsonObject = JSON.parseObject(result);\r\n\t    } else {\r\n\t\t    jsonObject = JSON.toJSON(\"{}\");\r\n\t    }\r\n\t    return jsonObject;\r\n    }\r\n\r\n    @Override\r\n    public String getAccept() {\r\n\t    return \"application/json\";\r\n    }\r\n}\r\n```\r\n\r\n## Using a custom request and NoHttp default no difference\r\n```java\r\nRequest<JSONObject> mRequest = new FastJsonRequest(url, requestMethod);\r\nqueue.add(what, mRequest, responseListener);\r\n```\r\n\r\n# 7. Proguard\r\n\r\n## Need to know\r\n    NoHttp All classes can be confusing.\r\n　　NoHttp1.0.0 Using the leve23 API, so have to use leve23 packaging.\r\n　　NoHttp1.0.1 and higher using the reflection calls the high-level or low-level apis, so as long as it is more than leve9 SDK can be compiled.\r\n\r\n## If you don't want to keep\r\n```text\r\n-dontwarn com.yolanda.nohttp.**\r\n-keep class com.yolanda.nohttp.**{*;}\r\n```\r\n\r\n#License\r\n```text\r\nCopyright 2016 Yan Zhenjie\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n   http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n```\r\n\r\n[1]: https://github.com/yanzhenjie/NoHttp/\r\n[2]: https://github.com/yanzhenjie/SkillGroupRule\r\n[3]: http://blog.csdn.net/yanzhenjie1003\r\n[4]: http://pan.baidu.com/s/1miEOtwG\r\n[5]: http://www.nohttp.net\r\n[6]: http://doc.nohttp.net\r\n[7]: https://github.com/yanzhenjie/NoHttp/issues\r\n[8]: https://github.com/yanzhenjie/NoHttp/blob/master/Jar/nohttp1.0.4.jar?raw=true\r\n[9]: https://github.com/yanzhenjie/NoHttp/blob/master/nohttp_sample.apk?raw=true\r\n[10]: http://www.nohttp.net/image/nohttp_logo.svg\r\n[11]: https://github.com/yanzhenjie/NoHttp/blob/master/Jar/nohttp1.0.4-include-source.jar?raw=true\r\n[12]: http://www.yanzhenjie.com\r\n[13]: https://codeload.github.com/yanzhenjie/NoHttp/zip/1.0.4\r\n[14]: https://github.com/yanzhenjie/NoHttp/blob/master/README-cn.md\r\n[15]: http://www.ietf.org/rfc/rfc2616.txt",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}